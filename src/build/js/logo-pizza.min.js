(window.LogoPizza={}).modules={};
!function(){function t(t){for(var o=t.querySelectorAll("[fill],[stroke]"),r=0;r<o.length;r++){var a=o[r];e(a,"fill"),e(a,"stroke")}}function e(t,e){var o=t.getAttribute(e);if(o&&"none"!=o){o=o.toUpperCase();var r=a[o];r||(r=a[o]=[]);var l={element:t,attr:e};r.push(l)}}function o(t){var e=t.querySelector(".custom-color");e.removeAttribute("data-layer-src"),e.removeAttribute("data-title");var o=1;for(var l in a)!function(t,e,o){function l(t){i.style.backgroundColor=t,c.textContent="Color "+e+": "+t}var s=o.cloneNode(!0);s.setAttribute("data-default-color",t),s.setAttribute("data-title","Color "+e);var i=s.querySelector(".custom-color__preview"),c=s.querySelector(".custom-color__title");l(t),o.parentNode.appendChild(s);var n=new Huebee(s,{setText:!1,setBGColor:!1,offset:[25,-5],customColors:r}),u=a[t];n.on("change",function(t){u.forEach(function(e){e.element.setAttribute(e.attr,t)}),l(t)})}(l,o,e),o++;e.parentNode.removeChild(e)}var r=[],a={};LogoPizza.modules["custom-colors-svg"]=function(e){var l=document.querySelector(".asset-display--main"),s=l.querySelector(".asset-display__img--big"),i=l.querySelector(".asset-display__img--small");t(s),t(i);for(var c in a)r.push(c);o(e);var n=e.querySelector(".custom-bg-button--light"),u=e.querySelector(".custom-bg-button--dark");n.onclick=function(){l.classList.remove("is-dark"),e.classList.remove("is-dark")},u.onclick=function(){l.classList.add("is-dark"),e.classList.add("is-dark")}}}();
!function(){function e(e){i=e.querySelectorAll(".custom-color");for(var r=[],c=0;c<i.length;c++){var n=i[c].getAttribute("data-default-color");r.push(n)}for(c=0;c<i.length;c++)!function(e,r){m++;var i=e.getAttribute("data-title"),c=e.getAttribute("data-default-color");l[i]={imgSrc:e.getAttribute("data-layer-src"),defaultColor:c,color:c,preview:e.querySelector(".custom-color__preview"),codeElem:e.querySelector(".custom-color__title__code")};new Huebee(e,{setText:!1,setBGColor:!1,offset:[25,-5],customColors:r}).on("change",function(e){var t=l[i];t.color=e,t.preview.style.backgroundColor=e,t.codeElem.textContent=e,a(t),o()}),e.addEventListener("click",t)}(i[c],r)}function t(){if(!f){f=!0,s=document.createElement("canvas"),u=document.createElement("canvas"),s.className=c.className,u.className=n.className,d=s.getContext("2d"),g=u.getContext("2d");for(var e in l)!function(e){var t=e.img=new Image;t.onload=function(){!function(e){var t=e.canvas=document.createElement("canvas");(e.ctx=t.getContext("2d")).globalCompositeOperation="source-in",e.width=t.width=e.img.width,e.height=t.height=e.img.height,a(e),++v==m&&function(e){h=!0,s.width=e.width,s.height=e.height,u.width=e.width/4,u.height=e.height/4,r.appendChild(s),r.appendChild(u),c.style.display="none",n.style.display="none",o()}(e)}(e)},t.onerror=function(){!function(e){console.error("Could not load layer: ",e.imgSrc,e.img.src)}(e)},t.src=e.imgSrc}(l[e])}}function o(){if(h){d.clearRect(0,0,s.width,s.height);for(var e in l){var t=l[e];d.drawImage(t.canvas,0,0),g.save(),g.scale(.25,.25),g.drawImage(s,0,0),g.restore()}}}function a(e){var t=e.ctx;t.clearRect(0,0,e.width,e.height),t.globalCompositeOperation="source-over",t.drawImage(e.img,0,0),t.globalCompositeOperation="source-in",t.fillStyle=e.color,t.fillRect(0,0,e.width,e.height),d.drawImage(e.canvas,0,0)}var r,i,c,n,l={};LogoPizza.modules["custom-colors"]=function(t){r=document.querySelector(".asset-display--main"),c=r.querySelector(".asset-display__img--big"),n=r.querySelector(".asset-display__img--small");var o=t.querySelector(".custom-bg-button--light"),a=t.querySelector(".custom-bg-button--dark");o.onclick=function(){r.classList.remove("is-dark"),t.classList.remove("is-dark")},a.onclick=function(){r.classList.add("is-dark"),t.classList.add("is-dark")},e(t)};var s,d,u,g,m=0,h=!1,f=!1,v=0}();
LogoPizza.modules["for-sale"]=function(t){for(var e=new Isotope(".thumbnails",{layoutMode:"fitRows",stagger:15,transitionDuration:"0.3s"}),r=t.querySelectorAll(".for-sale__filter__group"),a={},i=0;i<r.length;i++)!function(t){var r=t.getAttribute("data-filter-group");t.addEventListener("click",function(i){if(matchesSelector(i.target,".for-sale__filter__button")){t.querySelector(".is-selected").classList.remove("is-selected"),i.target.classList.add("is-selected");var o=i.target.getAttribute("data-filter");a[r]=o,e.arrange({filter:function(){var t="";for(var e in a)t+=a[e];return t}()})}})}(r[i])};
!function(t){"use strict";function e(t){this.element=t,this.isLazy=!0,this.isImg="IMG"==this.element.nodeName,this.width=100,this.height=100,this.isImg&&this.setPlaceholder()}function i(){if(!r.length)return t.removeEventListener("scroll",a),void t.removeEventListener("resize",c);r.forEach(function(t){t.check()}),r=r.filter(function(t){return t.isLazy})}function n(){o=t.innerHeight,r.forEach(function(t){t.updatePosition()}),i()}var o,s=document.createElement("canvas"),h=s.getContext("2d"),r=[];e.prototype.setPlaceholder=function(){this.updateSize(),s.width=this.width,s.height=this.height,h.fillStyle="#EEE",h.fillRect(0,0,this.width,this.height),this.element.src=s.toDataURL()},e.prototype.updateSize=function(){var t=this.element.getAttribute("data-lazy");if(t){var e=t.split("x");this.width=parseInt(e[0],10),this.height=parseInt(e[1],10)}},e.prototype.updatePosition=function(){var e=this.element.getBoundingClientRect();this.top=e.top+t.scrollY,this.bottom=this.top+this.element.offsetHeight},e.prototype.check=function(){var e=t.scrollY,i=e-1.5*o,n=e+3*o;this.top<n&&this.bottom>i&&this.load()},e.prototype.load=function(){if(this.isLazy){var t=this.element.getAttribute("data-src");this.element.src=t,this.isLazy=!1}};var a=function(t,e){var i=!1;return function(){i||(t(),i=!0,setTimeout(function(){i=!1,t()},e||100))}}(i,200),c=function(t,e){var i;return function(){clearTimeout(i);var e=this,n=arguments;i=setTimeout(function(){t.apply(e,n)},100)}}(n);o=t.innerHeight;for(var l,u=document.querySelectorAll("img[data-lazy], iframe[data-lazy]"),f=0;f<u.length;f++){l=new e(u[f]),r.push(l)}setTimeout(function(){n(),t.addEventListener("scroll",a),t.addEventListener("resize",c)})}(window);
!function(){for(var t=document.querySelectorAll("[data-js]"),e=0,a=t.length;e<a;e++){var o=t[e],r=o.getAttribute("data-js"),l=LogoPizza.modules[r];l&&l(o)}}();